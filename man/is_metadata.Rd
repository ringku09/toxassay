% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/error-check.R
\name{is_metadata}
\alias{is_metadata}
\title{Validate Metadata for Toxicogenomics Datasets}
\usage{
is_metadata(metadata, error_call = rlang::caller_env())
}
\arguments{
\item{metadata}{A data frame containing metadata for the toxicogenomics dataset.
The metadata must include specific columns such as \code{compound_name}, \code{dose_level}, \code{time_level}, \code{organ_id}, \code{database}, \code{arr_design}, and \code{fc}.}
}
\value{
This function does not return a value. It is used for validation purposes and will raise an error if the metadata is inconsistent.
}
\description{
This function checks the integrity and consistency of metadata provided for toxicology datasets,
specifically for \code{tggates} and \code{drugmatrix} databases. It ensures that the metadata contains
the necessary columns, and that certain attributes (e.g., \code{database}, \code{fc}, \code{species}, \code{tissue})
are consistent within the dataset.
}
\details{
The function performs the following checks:
\itemize{
\item Ensures that the metadata contains required columns.
\item Verifies that only one \code{database} (either \code{tggates} or \code{drugmatrix}) is present in the metadata.
\item Checks that the \code{fc} (fold change) data type is consistent (i.e., only \code{FC} or \code{normal} data).
\item For \code{tggates} database: Ensures metadata consistency for \code{species}, \code{test_type}, \code{organ_id}, and \code{sin_rep_type}.
\item For \code{drugmatrix} database: Ensures metadata consistency for \code{organ_id}.
}
}
\examples{
# Example usage:
metadata <- data.frame(
  compound_name = c("Compound A", "Compound B"),
  dose_level = c("High", "Low"),
  time_level = c("24h", "48h"),
  organ_id = "Liver",
  database = "drugmatrix",
  arr_design = c("Design1", "Design2"),
  fc = "FC"
)
is_metadata(metadata)

}
